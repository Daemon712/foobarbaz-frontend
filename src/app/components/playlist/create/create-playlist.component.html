<form (ngSubmit)="onSubmit()" #createPlaylistForm="ngForm" novalidate>

  <div class="jumbotron">
    <h1 class="display-3">Создать подборку</h1>
    <p class="lead">На этой странице Вы можете объединить несколько задач в одну подборку</p>
  </div>

  <div class="form-group">
    <label for="name">Название</label>
    <input type="text" class="form-control"
           id="name" name="name" #name="ngModel" [(ngModel)]="playlist.name"
           required minlength="4" maxlength="50" pattern="[a-zA-Zа-яА-Я0-9\-._ ]+">
    <div *ngIf="name.errors && (name.dirty || name.touched)"
         class="text-danger">
      <div [hidden]="!name.errors['required']">Укажите название задачи</div>
      <div [hidden]="!name.errors['minlength']">Слишком короткое название</div>
      <div [hidden]="!name.errors['pattern']">Название содержит недопустимые символы</div>
    </div>
  </div>

  <div class="form-group">
    <label for="description">Описание</label>
    <textarea class="form-control"
              id="description" name="description" #description="ngModel" [(ngModel)]="playlist.description"
              required minlength="20" maxlength="200"></textarea>
    <div *ngIf="description.errors && (description.dirty || description.touched)"
         class="text-danger">
      <div [hidden]="!description.errors['required']">Напишите краткое описание задачи</div>
      <div [hidden]="!description.errors['minlength']">Слишком короткое описание</div>
    </div>
  </div>

  <!--TODO: Challenge picker-->

  <div>
    <button class="btn btn-lg btn-success mb-3"
            [title]="createPlaylistForm.form.valid ? '' : 'Параметры не заполнены или заполнены неправильно'"
            [disabled]="!createPlaylistForm.form.valid || submitted">
      <i class="fa fa-plus"> </i>
      <span> Создать подборку</span>
    </button>
  </div>
</form>
