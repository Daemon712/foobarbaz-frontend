<div [hidden]="challenges" class="alert alert-info lead text-center p-3">
  <i class="fa fa-spinner fa-pulse"></i>
  <span> Загрузка...</span>
</div>
<div [hidden]="!challenges || challenges.length" class="alert alert-warning lead text-center p-3">
  <span> Задач не найдено</span>
</div>
<div *ngFor="let challenge of challenges" class="card mb-2">
  <div class="card-header">
    <div class="pull-right m-1">
      <a [routerLink]="'/users/' + challenge.author">{{challenge.author}} </a>
      <i class="fa fa-user"></i>
    </div>
    <h3 class="m-0">
      <small [ngSwitch]="challenge.status" class="challenge-status mr-3">
        <span *ngSwitchCase="challengeStatus.NotStarted" class="badge badge-primary px-2"
              title="Начать решение">
          <i class="fa fa-play fa-fw"></i>
        </span>
        <span *ngSwitchCase="challengeStatus.InProgress" class="badge badge-info px-2"
              title="Продолжить решение">
          <i class="fa fa-play fa-fw"></i>
        </span>
        <span *ngSwitchCase="challengeStatus.Completed" class="badge badge-success px-2"
              title="Просмотреть решение">
          <i class="fa fa-check fa-fw"></i>
        </span>
      </small>
      <a [routerLink]="'/challenges/'+ challenge.id">{{challenge.name}}</a>
    </h3>
  </div>
  <div class="card-block pt-2">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex flex-column justify-content-between">
        <p class="card-text text-justify mt-2">{{challenge.abstract}}</p>
        <div>
          <span *ngFor="let tag of challenge.tags" class="badge badge-default mr-1">
            {{tag}}
          </span>
        </div>
      </div>
      <div class="text-right" style="width: 220px">
        <div title="Рейтинг">
          <rating [ngModel]="challenge.rating"
                  [readonly]="true" [max]="5"
                  stateOn="fa fa-star text-warning">
          </rating>
        </div>
        <div  title="Сложность">
          <rating [ngModel]="challenge.difficulty"
                  [readonly]="true" [max]="5"
                  stateOn="fa fa-asterisk text-primary">
          </rating>
        </div>
        <div class="small text-muted" title="Дата Создания">
          <span> {{challenge.created | date: "dd MMM yyyy"}}</span>
          <i class="fa fa-calendar"></i>
        </div>
      </div>
    </div>
  </div>
</div>
