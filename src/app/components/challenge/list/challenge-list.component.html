<div [hidden]="challenges" class="alert alert-info lead text-center p-3">
  <i class="fa fa-spinner fa-pulse"></i>
  <span> Загрузка...</span>
</div>
<div [hidden]="!challenges || challenges.length" class="alert alert-warning lead text-center p-3">
  <span> Задач не найдено</span>
</div>
<div *ngFor="let challenge of challenges" class="card mb-2">
  <div class="card-header">
    <div class="pull-right m-1">
      <a [routerLink]="'/users/' + challenge.author">{{challenge.author}} </a>
      <i class="fa fa-user"></i>
    </div>
    <h3 class="m-0">
      <small [ngSwitch]="challenge.status" class="challenge-status mr-3">
        <span *ngSwitchCase="challengeStatus.NotStarted" class="badge badge-primary px-2"
              title="Начать решение">
          <i class="fa fa-play fa-fw"></i>
        </span>
        <span *ngSwitchCase="challengeStatus.InProgress" class="badge badge-info px-2"
              title="Продолжить решение">
          <i class="fa fa-play fa-fw"></i>
        </span>
        <span *ngSwitchCase="challengeStatus.Completed" class="badge badge-success px-2"
              title="Просмотреть решение">
          <i class="fa fa-check fa-fw"></i>
        </span>
      </small>
      <a [routerLink]="[challenge.id]">{{challenge.name}}</a>
    </h3>
  </div>
  <div class="card-block pt-2 row">
    <div class="col-9">
      <p class="card-text text-justify mt-2">{{challenge.abstract}}</p>
      <div class="tags-container">
        <span *ngFor="let tag of challenge.tags" class="badge badge-default mr-1">
          {{tag}}
        </span>
      </div>
    </div>
    <div class="col-3 text-muted text-right my-3">
      <div title="Рейтинг">
        <i [class.text-warning]="challenge.rating > 0.0" class="fa fa-star"></i>
        <i [class.text-warning]="challenge.rating > 0.2" class="fa fa-star"></i>
        <i [class.text-warning]="challenge.rating > 0.4" class="fa fa-star"></i>
        <i [class.text-warning]="challenge.rating > 0.6" class="fa fa-star"></i>
        <i [class.text-warning]="challenge.rating > 0.8" class="fa fa-star"></i>
      </div>
      <div class="text-primary" title="Сложность">
        <i *ngIf="challenge.difficulty > 0.0" class="fa fa-asterisk"></i>
        <i *ngIf="challenge.difficulty > 0.33" class="fa fa-asterisk"></i>
        <i *ngIf="challenge.difficulty > 0.67" class="fa fa-asterisk"></i>
      </div>
      <div class="small" title="Дата Создания">
        <span> {{challenge.created | date: "dd MMM yyyy"}}</span>
        <i class="fa fa-calendar"></i>
      </div>
    </div>
  </div>
</div>
