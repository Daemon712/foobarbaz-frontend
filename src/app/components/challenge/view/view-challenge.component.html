<div class="jumbotron">
  <h1 class="display-3" *ngIf="challenge">{{challenge.name}}</h1>
  <h1 class="display-3" *ngIf="!challenge">Загрузка...</h1>
  <p class="lead" *ngIf="challenge">{{challenge.description}}</p>
</div>
<div class="row" *ngIf="challenge">
  <div class="col-md-8">
    <ace-editor class="form-control mb-2"
                [(text)]="challenge.solutionTemplate" [readOnly]="true"
                [mode]="'java'" [theme]="'dreamweaver'" [options]="options">
    </ace-editor>

    <div class="my-3">
        <button type="button" class="btn btn-success btn-sm"
                [disabled]="true">
          <i class="fa fa-plus"></i>
          <span> Комменировать</span>
        </button>

        <button type="button" class="btn btn-info btn-sm"
                (click)="openComments()" [disabled]="comments">
          <span>Комментарии </span>
          <i class="fa fa-comments"></i>
          <span> {{challenge.comments}}</span>
        </button>

        <button type="button" class="btn btn-info btn-sm"
                [disabled]="true">
          <span>Решения </span>
          <i class="fa fa-check"></i>
          <span> {{challenge.solutions}}</span>
        </button>
    </div>

    <div *ngIf="comments" class="my-1">
      <app-comments [comments]="comments"></app-comments>
    </div>
  </div>

  <div class="col-md-4">
    <div class="form-group">
      <button type="submit" class="btn btn-primary btn-lg" title="Новое решение">
        <i class="fa fa-play"></i>
        <span>Решить</span>
      </button>
    </div>

    <div class="card my-2">
      <table class="table mb-0">
        <tbody>
        <tr>
          <td>Автор</td>
          <td>
            <span class="fa fa-user"></span>
            <span>{{challenge.author}}</span>
          </td>
        </tr>
        <tr>
          <td>Дата создания</td>
          <td>
            <span>{{challenge.created | date:'d MMM yyyy'}}</span>
          </td>
        </tr>
        <tr>
          <td>Просмотры</td>
          <td>
            <span>{{challenge.views}} </span>
            <i class="fa fa-eye"></i>
          </td>
        </tr>
        <tr>
          <td>Решения</td>
          <td [class.text-success]="challenge.status === challengeStatus.Completed">
            <span>{{challenge.solutions}} </span>
            <i class="fa fa-check"></i>
          </td>
        </tr>
        <tr *ngIf="challenge.likes" >
          <td>Рейтинг</td>
          <td [class.text-primary]="challenge.liked">
            <span>{{challenge.likes}}</span>
            <i class="fa fa-thumbs-up"></i>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div *ngIf="challenge.tags" class="my-2">
        <span *ngFor="let tag of challenge.tags"
              class="badge badge-default mr-1">{{tag}}</span>
    </div>
  </div>
</div>
